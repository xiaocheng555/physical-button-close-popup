import{d as h,e as S,f as g,g as $,w as d,m as I,u as y,i as R,P as U,o as B,h as N,j as K,k as P,l as m,c as T,a as o,b as a,r as i,p as M,n as L,q as V,T as j,_ as z}from"./index.1d295e0d.js";import{i as A}from"./1.3ef2554b.js";const D=h({__name:"HistoryPopup",props:{modelValue:{type:Boolean,default:!1},queryKey:{type:String},queryValue:{type:[Number,String,Boolean],default:!0}},emits:["update:modelValue"],setup(p,{emit:C}){const u=p,r=K(),l=P(),s=S({get(){return u.modelValue},set(e){C("update:modelValue",e)}});function F(){w()}function E(){k()?r.back():t()}function k(){var c;const e=(c=window.history)==null?void 0:c.state;if(e&&u.queryKey){if(!e.back)return!1;const f=r.resolve(e.back||"");if(f.path===l.path){const q=f.query,b=l.query;return u.queryKey in b&&!(u.queryKey in q)}return!1}else return!1}function w(){if(!_()){const e={...l.query};u.queryKey&&(e[u.queryKey]=u.queryValue),r.push({query:e})}}function t(){if(u.queryKey&&_()){const e={...l.query};delete e[u.queryKey],r.replace({query:e})}}function _(){const{query:e}=l;return u.queryKey&&u.queryKey in e}return g(s,e=>{e?F():E()}),g(()=>l.query,()=>{if(!u.queryKey)return;const e=_();!e&&s.value&&(s.value=!1),e&&!s.value&&(s.value=!0)},{immediate:!0}),(e,c)=>(B(),$(y(U),I({show:y(s),"onUpdate:show":c[0]||(c[0]=f=>R(s)?s.value=f:null)},e.$attrs,{"lock-scroll":!1}),{default:d(()=>[N(e.$slots,"default")]),_:3},16,["show"]))}}),v=p=>(M("data-v-d1126a16"),p=p(),L(),p),H={class:"detail-page"},O=["src"],G=v(()=>a("h2",{class:"title"},"\u7CBE\u7F8E\u6302\u4EF6",-1)),J=v(()=>a("p",{class:"desc"},"Q\u7248\u9E21\u4F60\u592A\u7F8E\u94A5\u5319\u6263\u6302\u4EF6\u59EC\u9713\u592A\u7F8E\u57FA\u5C3C\u592A\u7F8E\u94A5\u5319\u6263ikun",-1)),W={class:"popup-content"},X=["src"],Y=v(()=>a("span",{class:"popup-price"},"\xA514.80",-1)),Z=v(()=>a("p",null,"\u670D\u52A1\u4FDD\u969C\uFF1A7\u5929\u65E0\u7406\u7531",-1)),ee=v(()=>a("p",null,"\u989C\u8272\u5206\u7C7B\uFF1A\u9E21\u4F60\u592A\u7F8E\u94A5\u5319\u62631\u4E2A \u9AD8\u8D28\u91CF\u7248\u672C \xA514.80",-1)),ue=v(()=>a("p",null,"\u8D2D\u4E70\u6570\u91CF\uFF1A1",-1)),te=V("\u670D\u52A1\u8BF4\u660E"),oe=V("\u786E\u5B9A"),se={class:"preview"},ne=["src"],ae=V("\u670D\u52A1\u8BF4\u660E"),le=h({__name:"Detail",setup(p){console.log(A,"img1");const C=K(),u=m(!1),r=m(!1),l=m(""),s=m(!1),F=m([{id:"1",name:"\u5F20\u4E09",tel:"13000000000",address:"\u6D59\u6C5F\u7701\u676D\u5DDE\u5E02\u897F\u6E56\u533A\u6587\u4E09\u8DEF 138 \u53F7\u4E1C\u65B9\u901A\u4FE1\u5927\u53A6 7 \u697C 501 \u5BA4",isDefault:!0}]);function E(){C.back()}function k(){u.value=!1,j("\u6DFB\u52A0\u6210\u529F")}return(w,t)=>{const _=i("van-nav-bar"),e=i("van-action-bar-icon"),c=i("van-action-bar-button"),f=i("van-action-bar"),q=i("van-cell"),b=i("router-link"),x=i("van-button"),Q=i("van-address-list");return B(),T("div",H,[o(_,{title:"\u7CBE\u7F8E\u6302\u4EF6","left-arrow":"",onClickLeft:E}),a("img",{class:"banner",src:y(A),alt:""},null,8,O),G,J,o(f,null,{default:d(()=>[o(e,{icon:"shop-o",text:"\u5E97\u94FA"}),o(e,{icon:"chat-o",text:"\u5BA2\u670D"}),o(e,{icon:"star-o",text:"\u6536\u85CF"}),o(c,{type:"danger",text:"\u52A0\u5165\u8D2D\u7269\u8F66",onClick:t[0]||(t[0]=n=>u.value=!u.value)})]),_:1}),o(D,{queryKey:"popup",modelValue:u.value,"onUpdate:modelValue":t[3]||(t[3]=n=>u.value=n),modelModifiers:{show:!0},position:"bottom"},{default:d(()=>[a("div",W,[a("img",{class:"popup-img",src:y(A),onClick:t[1]||(t[1]=n=>r.value=!0)},null,8,X),Y,o(q,{title:"\u9009\u62E9\u5730\u5740","is-link":"",value:l.value?F.value[0].address:"",onClick:t[2]||(t[2]=n=>s.value=!0)},null,8,["value"]),Z,ee,ue,o(b,{style:{"font-size":"13px"},to:"/about"},{default:d(()=>[te]),_:1}),o(x,{class:"popup-btn",color:"linear-gradient(to right, #ff6034, #ee0a24)",block:"",round:"",onClick:k},{default:d(()=>[oe]),_:1})])]),_:1},8,["modelValue"]),o(D,{queryKey:"preview",modelValue:r.value,"onUpdate:modelValue":t[4]||(t[4]=n=>r.value=n),modelModifiers:{show:!0}},{default:d(()=>[a("div",se,[a("img",{class:"preview-img",src:y(A)},null,8,ne),o(b,{class:"preview-link",to:"/about"},{default:d(()=>[ae]),_:1})])]),_:1},8,["modelValue"]),o(D,{style:{top:"0"},queryKey:"address",modelValue:s.value,"onUpdate:modelValue":t[7]||(t[7]=n=>s.value=n),modelModifiers:{show:!0},position:"bottom"},{default:d(()=>[o(_,{title:"\u9009\u62E9\u6536\u8D27\u5730\u5740","left-arrow":"",onClickLeft:E}),o(Q,{modelValue:l.value,"onUpdate:modelValue":t[5]||(t[5]=n=>l.value=n),list:F.value,onSelect:t[6]||(t[6]=n=>s.value=!1)},null,8,["modelValue","list"])]),_:1},8,["modelValue"])])}}});const de=z(le,[["__scopeId","data-v-d1126a16"]]);export{de as default};
