import{d as B,e as $,f as h,g as I,w as p,m as R,u as m,i as U,P as N,o as K,h as P,j as x,k as T,l as y,c as M,a as o,b as l,r as d,p as L,n as j,q as V,T as z,_ as H}from"./index.377657a1.js";import{i as E}from"./1.3ef2554b.js";const D=B({__name:"HistoryPopup",props:{modelValue:{type:Boolean,default:!1},queryKey:{type:String},queryValue:{type:[Number,String,Boolean],default:!0}},emits:["update:modelValue"],setup(_,{emit:F}){const t=_,c=x(),r=T(),s=$({get(){return t.modelValue},set(e){F("update:modelValue",e)}});function b(){C()}function A(){k()?c.back():v()}function k(){var n;const e=(n=window.history)==null?void 0:n.state;if(e&&t.queryKey){if(!e.back)return!1;const i=c.resolve(e.back||"");if(i.path===r.path){const q=i.query,w=r.query;return t.queryKey in w&&!(t.queryKey in q)}return!1}else return!1}function C(){var e,n;if(!u()){const i={...r.query};t.queryKey&&(i[t.queryKey]=(n=(e=t.queryValue)==null?void 0:e.toString)==null?void 0:n.call(e)),c.push({query:i})}}function v(){if(t.queryKey&&u()){const e={...r.query};delete e[t.queryKey],c.replace({query:e})}}function u(){const{query:e}=r;return t.queryKey&&t.queryKey in e}return h(s,e=>{e?b():A()}),h(()=>r.query,()=>{if(!t.queryKey)return;const e=u();!e&&s.value&&(s.value=!1),e&&!s.value&&(s.value=!0)},{immediate:!0}),(e,n)=>(K(),I(m(N),R({show:m(s),"onUpdate:show":n[0]||(n[0]=i=>U(s)?s.value=i:null)},e.$attrs,{"lock-scroll":!1}),{default:p(()=>[P(e.$slots,"default")]),_:3},16,["show"]))}}),f=_=>(L("data-v-026f156f"),_=_(),j(),_),O={class:"detail-page"},G=["src"],J=f(()=>l("h2",{class:"title"},"\u7CBE\u7F8E\u6302\u4EF6",-1)),W=f(()=>l("p",{class:"desc"},"Q\u7248\u9E21\u4F60\u592A\u7F8E\u94A5\u5319\u6263\u6302\u4EF6\u59EC\u9713\u592A\u7F8E\u57FA\u5C3C\u592A\u7F8E\u94A5\u5319\u6263ikun",-1)),X={class:"popup-content"},Y=["src"],Z=f(()=>l("span",{class:"popup-price"},"\xA514.80",-1)),ee=f(()=>l("p",null,"\u670D\u52A1\u4FDD\u969C\uFF1A7\u5929\u65E0\u7406\u7531",-1)),ue=f(()=>l("p",null,"\u989C\u8272\u5206\u7C7B\uFF1A\u9E21\u4F60\u592A\u7F8E\u94A5\u5319\u62631\u4E2A \u9AD8\u8D28\u91CF\u7248\u672C \xA514.80",-1)),te=f(()=>l("p",null,"\u8D2D\u4E70\u6570\u91CF\uFF1A1",-1)),oe=V("\u670D\u52A1\u8BF4\u660E"),se=V("\u786E\u5B9A"),ne={class:"preview"},ae=["src"],le=V("\u670D\u52A1\u8BF4\u660E"),re=B({__name:"Detail",setup(_){console.log(E,"img1");const F=x(),t=y(!1),c=y(!1),r=y(""),s=y(!1),b=y([{id:"1",name:"\u5F20\u4E09",tel:"13000000000",address:"\u6D59\u6C5F\u7701\u676D\u5DDE\u5E02\u897F\u6E56\u533A\u6587\u4E09\u8DEF 138 \u53F7\u4E1C\u65B9\u901A\u4FE1\u5927\u53A6 7 \u697C 501 \u5BA4",isDefault:!0}]);function A(){F.back()}function k(){t.value=!1,z("\u6DFB\u52A0\u6210\u529F")}function C(){var v;(v=window.history.state)!=null&&v.back?F.back():s.value=!1}return(v,u)=>{const e=d("van-nav-bar"),n=d("van-action-bar-icon"),i=d("van-action-bar-button"),q=d("van-action-bar"),w=d("van-cell"),g=d("router-link"),Q=d("van-button"),S=d("van-address-list");return K(),M("div",O,[o(e,{title:"\u7CBE\u7F8E\u6302\u4EF6","left-arrow":"",onClickLeft:A}),l("img",{class:"banner",src:m(E),alt:""},null,8,G),J,W,o(q,null,{default:p(()=>[o(n,{icon:"shop-o",text:"\u5E97\u94FA"}),o(n,{icon:"chat-o",text:"\u5BA2\u670D"}),o(n,{icon:"star-o",text:"\u6536\u85CF"}),o(i,{type:"danger",text:"\u52A0\u5165\u8D2D\u7269\u8F66",onClick:u[0]||(u[0]=a=>t.value=!t.value)})]),_:1}),o(D,{queryKey:"popup",modelValue:t.value,"onUpdate:modelValue":u[3]||(u[3]=a=>t.value=a),modelModifiers:{show:!0},position:"bottom"},{default:p(()=>[l("div",X,[l("img",{class:"popup-img",src:m(E),onClick:u[1]||(u[1]=a=>c.value=!0)},null,8,Y),Z,o(w,{title:"\u9009\u62E9\u5730\u5740","is-link":"",value:r.value?b.value[0].address:"",onClick:u[2]||(u[2]=a=>s.value=!0)},null,8,["value"]),ee,ue,te,o(g,{style:{"font-size":"13px"},to:"/about"},{default:p(()=>[oe]),_:1}),o(Q,{class:"popup-btn",color:"linear-gradient(to right, #ff6034, #ee0a24)",block:"",round:"",onClick:k},{default:p(()=>[se]),_:1})])]),_:1},8,["modelValue"]),o(D,{queryKey:"preview",modelValue:c.value,"onUpdate:modelValue":u[4]||(u[4]=a=>c.value=a),modelModifiers:{show:!0}},{default:p(()=>[l("div",ne,[l("img",{class:"preview-img",src:m(E)},null,8,ae),o(g,{class:"preview-link",to:"/about"},{default:p(()=>[le]),_:1})])]),_:1},8,["modelValue"]),o(D,{style:{top:"0"},queryKey:"address",modelValue:s.value,"onUpdate:modelValue":u[7]||(u[7]=a=>s.value=a),modelModifiers:{show:!0},position:"bottom"},{default:p(()=>[o(e,{title:"\u9009\u62E9\u6536\u8D27\u5730\u5740","left-arrow":"",onClickLeft:C}),o(S,{modelValue:r.value,"onUpdate:modelValue":u[5]||(u[5]=a=>r.value=a),list:b.value,onSelect:u[6]||(u[6]=a=>s.value=!1)},null,8,["modelValue","list"])]),_:1},8,["modelValue"])])}}});const de=H(re,[["__scopeId","data-v-026f156f"]]);export{de as default};
