"use strict";(self["webpackChunkvue2"]=self["webpackChunkvue2"]||[]).push([[963],{9963:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"detail-page"},[t("van-nav-bar",{attrs:{title:"精美挂件","left-arrow":""},on:{"click-left":e.back}}),t("img",{staticClass:"banner",attrs:{src:e.img1,alt:""}}),t("h2",{staticClass:"title"},[e._v("精美挂件")]),t("p",{staticClass:"desc"},[e._v("Q版鸡你太美钥匙扣挂件姬霓太美基尼太美钥匙扣ikun")]),t("van-goods-action",[t("van-goods-action-icon",{attrs:{icon:"shop-o",text:"店铺"}}),t("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服"}}),t("van-goods-action-icon",{attrs:{icon:"star-o",text:"收藏"}}),t("van-goods-action-button",{attrs:{type:"danger",text:"加入购物车"},on:{click:function(t){e.visible=!e.visible}}})],1),t("HistoryPopup",{attrs:{queryKey:"popup",position:"bottom"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"popup-content"},[t("img",{staticClass:"popup-img",attrs:{src:e.img1},on:{click:function(t){e.previw=!0}}}),t("span",{staticClass:"popup-price"},[e._v("¥14.80")]),t("van-cell",{attrs:{title:"选择地址","is-link":"",value:e.addressId?e.list[0].address:""},on:{click:function(t){e.addressVisible=!0}}}),t("p",[e._v("服务保障：7天无理由")]),t("p",[e._v("颜色分类：鸡你太美钥匙扣1个 高质量版本 ¥14.80")]),t("p",[e._v("购买数量：1")]),t("router-link",{staticStyle:{"font-size":"13px"},attrs:{to:"/about"}},[e._v("服务说明")]),t("van-button",{staticClass:"popup-btn",attrs:{color:"linear-gradient(to right, #ff6034, #ee0a24)",block:"",round:""},on:{click:e.addToCart}},[e._v("确定")])],1)]),t("HistoryPopup",{attrs:{"query-extends":{test:!0},queryKey:"preview"},model:{value:e.previw,callback:function(t){e.previw=t},expression:"previw"}},[t("div",{staticClass:"preview"},[t("img",{staticClass:"preview-img",attrs:{src:e.img1}}),t("router-link",{staticClass:"preview-link",attrs:{to:"/about"}},[e._v("服务说明")])],1)]),t("HistoryPopup",{staticStyle:{top:"0"},attrs:{queryKey:"address",position:"bottom"},model:{value:e.addressVisible,callback:function(t){e.addressVisible=t},expression:"addressVisible"}},[t("van-nav-bar",{attrs:{title:"选择收货地址","left-arrow":""},on:{"click-left":e.closeAddress}}),t("van-address-list",{attrs:{list:e.list},on:{select:function(t){e.addressVisible=!1}},model:{value:e.addressId,callback:function(t){e.addressId=t},expression:"addressId"}})],1)],1)},a=[],o=function(){var e=this,t=e._self._c;return t("van-popup",e._b({model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},"van-popup",e.$attrs,!1),[e._t("default")],2)},r=[];s(7658);function l(e){history.replaceState({...history.state,...e},"")}let n=!1;var u={props:{modelValue:{type:Boolean,default:!1},queryKey:{type:String},queryValue:{type:[Number,String,Boolean],default:!0},queryExtends:{type:Object},defaultCloseOnNoBack:{type:Boolean,default:!1},defaultCloseOnMount:{type:Boolean,default:!1}},model:{prop:"modelValue",event:"modelValueChange"},computed:{dialogVisible:{get(){return this.modelValue},set(e){this.$emit("modelValueChange",e)}}},methods:{onOpen(){this.addQuery()},onClose(){this.hasBackRecord()?this.$router.back():this.removeQuery()},hasBackRecord(){return window.history.state?.popupKey===this.queryKey},async addQuery(){if(!this.existQueryKey()){const e={...this.$route.query,...this.queryExtends};this.queryKey&&(e[this.queryKey]=this.queryValue?.toString?.()),await this.$router.push({query:e}),l({popupKey:this.queryKey})}},removeQuery(){if(this.queryKey&&this.existQueryKey()){const e={...this.$route.query};delete e[this.queryKey];for(let t in this.queryExtends)delete e[t];this.$router.replace({query:e})}},existQueryKey(){const{query:e}=this.$route;return this.queryKey&&this.queryKey in e}},watch:{dialogVisible(e){e?this.onOpen():this.onClose()},"$route.query":{immediate:!0,handler(){if(!this.queryKey)return;const e=this.existQueryKey();if(!e&&this.dialogVisible&&(this.dialogVisible=!1),e&&!this.dialogVisible){if(this.defaultCloseOnNoBack&&!window.history.state?.popupKey)return void this.removeQuery();if(this.defaultCloseOnMount&&!n)return;this.dialogVisible=!0}}}},created(){this.dialogVisible&&this.onOpen()},mounted(){n=!0}},d={name:"HistoryPopup",mixins:[u]},c=d,p=s(3736),y=(0,p.Z)(c,o,r,!1,null,"c8bf8c24",null),h=y.exports,v=s(20),b={name:"home",components:{HistoryPopup:h},data(){return{img1:v,visible:!1,previw:!1,addressId:"",addressVisible:!1,list:[{id:"1",name:"张三",tel:"13000000000",address:"浙江省杭州市西湖区文三路 138 号东方通信大厦 7 楼 501 室",isDefault:!0}]}},methods:{back(){this.$router.back()},addToCart(){this.visible=!1,this.$toast("添加成功")},closeAddress(){window.history.state?.back?this.$router.back():this.addressVisible=!1}}},f=b,m=(0,p.Z)(f,i,a,!1,null,"53110530",null),g=m.exports},20:function(e,t,s){e.exports=s.p+"img/1.268abcea.jpg"}}]);
//# sourceMappingURL=963.4b8043bc.js.map